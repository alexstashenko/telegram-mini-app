<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STAR Method Mini App</title>
    
    <!-- Telegram Web App Script -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- React and Babel -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        }
        .telegram-viewport {
            height: 100vh;
            overflow-x: hidden;
        }
    </style>
</head>
<body>
    <div id="root" class="telegram-viewport"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { ArrowRight, ArrowLeft, Users, Target, Zap, Trophy, BookOpen, MessageCircle } = lucide;

        const StarMethodMiniApp = () => {
          const [currentView, setCurrentView] = useState('home');
          const [activeStep, setActiveStep] = useState(0);

          // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è Telegram Mini App
          useEffect(() => {
            if (window.Telegram?.WebApp) {
              window.Telegram.WebApp.ready();
              window.Telegram.WebApp.expand();
              window.Telegram.WebApp.setHeaderColor('#1e40af');
            }
          }, []);

          const starSteps = [
            {
              letter: 'S',
              title: 'Situation',
              titleRu: '–°–∏—Ç—É–∞—Ü–∏—è',
              description: '–û–ø–∏—à–∏—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç',
              icon: Users,
              color: 'bg-blue-500',
              tips: [
                '–ì–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ?',
                '–ö—Ç–æ —É—á–∞—Å—Ç–≤–æ–≤–∞–ª?',
                '–ö–∞–∫–∏–µ –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞?'
              ],
              example: '–í –ø—Ä–æ–µ–∫—Ç–µ –±—ã–ª–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Ç—É–∞—Ü–∏—è —Å –¥–µ–¥–ª–∞–π–Ω–æ–º...'
            },
            {
              letter: 'T',
              title: 'Task',
              titleRu: '–ó–∞–¥–∞—á–∞',
              description: '–í–∞—à–∞ —Ü–µ–ª—å',
              icon: Target,
              color: 'bg-green-500',
              tips: [
                '–ß—Ç–æ –Ω—É–∂–Ω–æ –±—ã–ª–æ —Å–¥–µ–ª–∞—Ç—å?',
                '–ö–∞–∫–∞—è —Ü–µ–ª—å?',
                '–í–∞—à–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å?'
              ],
              example: '–ú–æ—è –∑–∞–¥–∞—á–∞ - –Ω–∞–π—Ç–∏ —Ä–µ—à–µ–Ω–∏–µ –∑–∞ 2 –¥–Ω—è...'
            },
            {
              letter: 'A',
              title: 'Action',
              titleRu: '–î–µ–π—Å—Ç–≤–∏–µ',
              description: '–ß—Ç–æ –≤—ã –¥–µ–ª–∞–ª–∏',
              icon: Zap,
              color: 'bg-orange-500',
              tips: [
                '–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —à–∞–≥–∏?',
                '–ö–∞–∫ –¥–µ–π—Å—Ç–≤–æ–≤–∞–ª–∏?',
                '–ö–∞–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è?'
              ],
              example: '–Ø —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–ª –∫–æ–º–∞–Ω–¥—É –∏ –≤–Ω–µ–¥—Ä–∏–ª –Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å...'
            },
            {
              letter: 'R',
              title: 'Result',
              titleRu: '–†–µ–∑—É–ª—å—Ç–∞—Ç',
              description: '–ò—Ç–æ–≥–∏',
              icon: Trophy,
              color: 'bg-purple-500',
              tips: [
                '–ö–∞–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç?',
                '–ß—Ç–æ –ø–æ–ª—É—á–∏–ª–∏?',
                '–ß–µ–º—É –Ω–∞—É—á–∏–ª–∏—Å—å?'
              ],
              example: '–ü—Ä–æ–µ–∫—Ç –∑–∞–≤–µ—Ä—à–µ–Ω –Ω–∞ 3 –¥–Ω—è —Ä–∞–Ω—å—à–µ, –∫–ª–∏–µ–Ω—Ç –¥–æ–≤–æ–ª–µ–Ω...'
            }
          ];

          // Home View
          if (currentView === 'home') {
            return React.createElement('div', { className: "min-h-screen bg-gradient-to-b from-blue-600 to-purple-700 text-white" },
              React.createElement('div', { className: "p-4" },
                // Header
                React.createElement('div', { className: "text-center mb-8" },
                  React.createElement('div', { className: "inline-flex items-center justify-center w-20 h-20 bg-white bg-opacity-20 rounded-full mb-4" },
                    React.createElement(MessageCircle, { size: 40 })
                  ),
                  React.createElement('h1', { className: "text-3xl font-bold mb-2" }, 'STAR Method'),
                  React.createElement('p', { className: "text-blue-100" }, '–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è—Ö')
                ),

                // Action Button
                React.createElement('div', { className: "mb-6" },
                  React.createElement('button', {
                    onClick: () => setCurrentView('learn'),
                    className: "w-full bg-white bg-opacity-15 backdrop-blur rounded-xl p-6 text-center hover:bg-opacity-25 transition-all shadow-lg"
                  },
                    React.createElement(BookOpen, { className: "mx-auto mb-3 text-blue-200", size: 32 }),
                    React.createElement('div', { className: "font-bold text-lg mb-1" }, '–ù–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ'),
                    React.createElement('div', { className: "text-sm text-blue-200" }, '–ü–æ—à–∞–≥–æ–≤–æ–µ –∏–∑—É—á–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞')
                  )
                ),

                // Tips
                React.createElement('div', { className: "mt-6 bg-white bg-opacity-10 backdrop-blur rounded-xl p-4" },
                  React.createElement('h4', { className: "font-semibold mb-3" }, 'üí° –ü–æ—á–µ–º—É STAR —Ä–∞–±–æ—Ç–∞–µ—Ç?'),
                  React.createElement('div', { className: "space-y-2 text-sm text-blue-100" },
                    React.createElement('p', null, '‚Ä¢ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ—Ç –≤–∞—à–∏ –º—ã—Å–ª–∏'),
                    React.createElement('p', null, '‚Ä¢ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã'),
                    React.createElement('p', null, '‚Ä¢ –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤–∞—à–∏ –Ω–∞–≤—ã–∫–∏'),
                    React.createElement('p', null, '‚Ä¢ –î–µ–ª–∞–µ—Ç –æ—Ç–≤–µ—Ç –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è')
                  )
                )
              )
            );
          }

          // Learn View
          if (currentView === 'learn') {
            const currentStep = starSteps[activeStep];
            const IconComponent = currentStep.icon;

            return React.createElement('div', { className: "min-h-screen bg-gray-50" },
              // Header
              React.createElement('div', { className: "bg-white shadow-sm sticky top-0 z-10" },
                React.createElement('div', { className: "flex items-center p-4" },
                  React.createElement('button', { 
                    onClick: () => setCurrentView('home'), 
                    className: "mr-3" 
                  },
                    React.createElement(ArrowLeft, { size: 24, className: "text-gray-600" })
                  ),
                  React.createElement('h1', { className: "font-semibold text-gray-800" }, '–ò–∑—É—á–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞')
                ),
                React.createElement('div', { className: "px-4 pb-4" },
                  React.createElement('div', { className: "flex items-center space-x-2" },
                    starSteps.map((_, index) =>
                      React.createElement('div', {
                        key: index,
                        className: `h-2 flex-1 rounded ${index <= activeStep ? 'bg-blue-500' : 'bg-gray-200'}`
                      })
                    )
                  ),
                  React.createElement('p', { className: "text-sm text-gray-500 mt-2" },
                    `–®–∞–≥ ${activeStep + 1} –∏–∑ ${starSteps.length}`
                  )
                )
              ),

              // Content
              React.createElement('div', { className: "p-4" },
                React.createElement('div', { className: "bg-white rounded-xl shadow-sm p-6 mb-4" },
                  React.createElement('div', { className: "flex items-center mb-4" },
                    React.createElement('div', { className: `w-12 h-12 rounded-full ${currentStep.color} text-white flex items-center justify-center mr-4` },
                      React.createElement(IconComponent, { size: 24 })
                    ),
                    React.createElement('div', null,
                      React.createElement('h2', { className: "text-xl font-bold" }, `${currentStep.letter} - ${currentStep.title}`),
                      React.createElement('p', { className: "text-gray-600" }, currentStep.titleRu)
                    )
                  ),

                  React.createElement('p', { className: "text-gray-700 mb-4" }, currentStep.description),

                  React.createElement('div', { className: "mb-4" },
                    React.createElement('h3', { className: "font-semibold mb-2" }, '–ö–ª—é—á–µ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã:'),
                    React.createElement('div', { className: "space-y-2" },
                      currentStep.tips.map((tip, index) =>
                        React.createElement('div', { key: index, className: "flex items-start" },
                          React.createElement('div', { className: "w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0" }),
                          React.createElement('span', { className: "text-gray-700" }, tip)
                        )
                      )
                    )
                  ),

                  React.createElement('div', { className: "bg-blue-50 rounded-lg p-4" },
                    React.createElement('h3', { className: "font-semibold mb-2 text-blue-800" }, '–ü—Ä–∏–º–µ—Ä:'),
                    React.createElement('p', { className: "text-blue-700 text-sm" }, currentStep.example)
                  )
                ),

                // Navigation
                React.createElement('div', { className: "flex justify-between" },
                  React.createElement('button', {
                    onClick: () => setActiveStep(Math.max(0, activeStep - 1)),
                    disabled: activeStep === 0,
                    className: "flex items-center px-4 py-2 bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50"
                  },
                    React.createElement(ArrowLeft, { size: 16, className: "mr-1" }),
                    '–ù–∞–∑–∞–¥'
                  ),
                  React.createElement('button', {
                    onClick: () => setActiveStep(Math.min(starSteps.length - 1, activeStep + 1)),
                    disabled: activeStep === starSteps.length - 1,
                    className: "flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg disabled:opacity-50"
                  },
                    '–î–∞–ª–µ–µ',
                    React.createElement(ArrowRight, { size: 16, className: "ml-1" })
                  )
                ),

                // Final Tips (shown only on last step)
                activeStep === starSteps.length - 1 && 
                React.createElement('div', { className: "mt-6 bg-gradient-to-r from-green-50 to-blue-50 rounded-xl p-4" },
                  React.createElement('h3', { className: "font-semibold mb-3 text-green-800" }, 'üéØ –ì–æ—Ç–æ–≤—ã –∫ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—é!'),
                  React.createElement('div', { className: "space-y-2 text-sm text-green-700" },
                    React.createElement('p', null, '‚Ä¢ –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ 3-5 —Ä–∞–∑–Ω—ã—Ö STAR-–∏—Å—Ç–æ—Ä–∏–π'),
                    React.createElement('p', null, '‚Ä¢ –¢—Ä–µ–Ω–∏—Ä—É–π—Ç–µ—Å—å —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞–∂–¥—É—é –∑–∞ 1-2 –º–∏–Ω—É—Ç—ã'),
                    React.createElement('p', null, '‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ü–∏—Ñ—Ä—ã –∏ —Ñ–∞–∫—Ç—ã'),
                    React.createElement('p', null, '‚Ä¢ –§–æ–∫—É—Å–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ —Å–≤–æ–∏—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö'),
                    React.createElement('p', null, '‚Ä¢ –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å –≤—Å–ª—É—Ö –ø–µ—Ä–µ–¥ –∑–µ—Ä–∫–∞–ª–æ–º')
                  ),
                  React.createElement('button', {
                    onClick: () => setCurrentView('home'),
                    className: "mt-3 w-full bg-green-600 text-white py-2 rounded-lg font-medium"
                  },
                    '‚ú® –ó–∞–≤–µ—Ä—à–∏—Ç—å –æ–±—É—á–µ–Ω–∏–µ'
                  )
                )
              )
            );
          }

          return null;
        };

        // Render the app
        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(React.createElement(StarMethodMiniApp));
    </script>
</body>
</html>
