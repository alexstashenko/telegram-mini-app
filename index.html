import React, { useState } from 'react';
import { CheckCircle, Circle, ArrowRight, Lightbulb, Users, Target, Zap, Trophy } from 'lucide-react';

const StarMethodGuide = () => {
  const [activeStep, setActiveStep] = useState(0);
  const [userAnswers, setUserAnswers] = useState({
    situation: '',
    task: '',
    action: '',
    result: ''
  });

  const starSteps = [
    {
      letter: 'S',
      title: 'Situation',
      titleRu: '–°–∏—Ç—É–∞—Ü–∏—è',
      description: 'Beschreiben Sie den Kontext oder Hintergrund',
      descriptionRu: '–û–ø–∏—à–∏—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–ª–∏ –ø—Ä–µ–¥—ã—Å—Ç–æ—Ä–∏—é',
      icon: Users,
      color: 'bg-blue-500',
      questions: [
        'Wo und wann fand die Situation statt?',
        'Wer war beteiligt?',
        'Was war der Ausgangspunkt?'
      ],
      questionsRu: [
        '–ì–¥–µ –∏ –∫–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–∞ —Å–∏—Ç—É–∞—Ü–∏—è?',
        '–ö—Ç–æ –±—ã–ª –≤–æ–≤–ª–µ—á–µ–Ω?',
        '–ö–∞–∫–∞—è –±—ã–ª–∞ –æ—Ç–ø—Ä–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞?'
      ],
      example: 'In meinem letzten Projekt als Teamleiter hatten wir eine kritische Deadline f√ºr einen wichtigen Kunden...',
      exampleRu: '–í –º–æ–µ–º –ø–æ—Å–ª–µ–¥–Ω–µ–º –ø—Ä–æ–µ–∫—Ç–µ –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è –∫–æ–º–∞–Ω–¥—ã —É –Ω–∞—Å –±—ã–ª –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–¥–ª–∞–π–Ω –¥–ª—è –≤–∞–∂–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞...'
    },
    {
      letter: 'T',
      title: 'Task',
      titleRu: '–ó–∞–¥–∞—á–∞',
      description: 'Erkl√§ren Sie Ihre spezifische Aufgabe oder Verantwortung',
      descriptionRu: '–û–±—ä—è—Å–Ω–∏—Ç–µ –≤–∞—à—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É –∏–ª–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å',
      icon: Target,
      color: 'bg-green-500',
      questions: [
        'Was war Ihr spezifisches Ziel?',
        'Welche Herausforderung mussten Sie bew√§ltigen?',
        'Was wurde von Ihnen erwartet?'
      ],
      questionsRu: [
        '–ö–∞–∫–∞—è –±—ã–ª–∞ –≤–∞—à–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ü–µ–ª—å?',
        '–° –∫–∞–∫–∏–º –≤—ã–∑–æ–≤–æ–º –≤–∞–º –Ω—É–∂–Ω–æ –±—ã–ª–æ —Å–ø—Ä–∞–≤–∏—Ç—å—Å—è?',
        '–ß—Ç–æ –æ—Ç –≤–∞—Å –æ–∂–∏–¥–∞–ª–æ—Å—å?'
      ],
      example: 'Meine Aufgabe war es, das Team zu motivieren und einen Weg zu finden, das Projekt trotz Zeitdruck erfolgreich abzuschlie√üen...',
      exampleRu: '–ú–æ–µ–π –∑–∞–¥–∞—á–µ–π –±—ã–ª–æ –º–æ—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É –∏ –Ω–∞–π—Ç–∏ —Å–ø–æ—Å–æ–± —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –Ω–µ—Ö–≤–∞—Ç–∫—É –≤—Ä–µ–º–µ–Ω–∏...'
    },
    {
      letter: 'A',
      title: 'Action',
      titleRu: '–î–µ–π—Å—Ç–≤–∏–µ',
      description: 'Schildern Sie die konkreten Schritte, die Sie unternommen haben',
      descriptionRu: '–û–ø–∏—à–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —à–∞–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –ø—Ä–µ–¥–ø—Ä–∏–Ω—è–ª–∏',
      icon: Zap,
      color: 'bg-orange-500',
      questions: [
        'Welche spezifischen Ma√ünahmen haben Sie ergriffen?',
        'Wie sind Sie vorgegangen?',
        'Welche Entscheidungen haben Sie getroffen?'
      ],
      questionsRu: [
        '–ö–∞–∫–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –º–µ—Ä—ã –≤—ã –ø—Ä–∏–Ω—è–ª–∏?',
        '–ö–∞–∫ –≤—ã –¥–µ–π—Å—Ç–≤–æ–≤–∞–ª–∏?',
        '–ö–∞–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è –≤—ã –ø—Ä–∏–Ω—è–ª–∏?'
      ],
      example: 'Ich habe t√§glich kurze Stand-up-Meetings eingef√ºhrt, Aufgaben neu priorisiert und zus√§tzliche Ressourcen organisiert...',
      exampleRu: '–Ø –≤–Ω–µ–¥—Ä–∏–ª –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∫–æ—Ä–æ—Ç–∫–∏–µ —Å–æ–≤–µ—â–∞–Ω–∏—è, –ø–µ—Ä–µ—Ä–∞—Å—Å—Ç–∞–≤–∏–ª –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∑–∞–¥–∞—á –∏ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–ª –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã...'
    },
    {
      letter: 'R',
      title: 'Result',
      titleRu: '–†–µ–∑—É–ª—å—Ç–∞—Ç',
      description: 'Pr√§sentieren Sie die erzielten Ergebnisse',
      descriptionRu: '–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã',
      icon: Trophy,
      color: 'bg-purple-500',
      questions: [
        'Was war das Endergebnis?',
        'Welche Auswirkungen hatte Ihr Handeln?',
        'Was haben Sie daraus gelernt?'
      ],
      questionsRu: [
        '–ö–∞–∫–æ–≤ –±—ã–ª –∫–æ–Ω–µ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç?',
        '–ö–∞–∫–æ–µ –≤–ª–∏—è–Ω–∏–µ –æ–∫–∞–∑–∞–ª–∏ –≤–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è?',
        '–ß–µ–º—É –≤—ã –Ω–∞—É—á–∏–ª–∏—Å—å?'
      ],
      example: 'Wir haben das Projekt 2 Tage fr√ºher als geplant abgeschlossen, der Kunde war begeistert und hat uns einen Folgeauftrag erteilt...',
      exampleRu: '–ú—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏ –ø—Ä–æ–µ–∫—Ç –Ω–∞ 2 –¥–Ω—è —Ä–∞–Ω—å—à–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ, –∫–ª–∏–µ–Ω—Ç –±—ã–ª –≤ –≤–æ—Å—Ç–æ—Ä–≥–µ –∏ –¥–∞–ª –Ω–∞–º —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–∫–∞–∑...'
    }
  ];

  const commonQuestions = [
    'Erz√§hlen Sie von einer Zeit, als Sie ein schwieriges Problem gel√∂st haben',
    'Beschreiben Sie eine Situation, in der Sie F√ºhrungsqualit√§ten gezeigt haben',
    'Geben Sie ein Beispiel f√ºr eine Zeit, als Sie mit Konflikten umgehen mussten',
    'Erz√§hlen Sie von einem Projekt, auf das Sie besonders stolz sind'
  ];

  const commonQuestionsRu = [
    '–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –≤—Ä–µ–º–µ–Ω–∏, –∫–æ–≥–¥–∞ –≤—ã —Ä–µ—à–∏–ª–∏ —Å–ª–æ–∂–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É',
    '–û–ø–∏—à–∏—Ç–µ —Å–∏—Ç—É–∞—Ü–∏—é, –≤ –∫–æ—Ç–æ—Ä–æ–π –≤—ã –ø—Ä–æ—è–≤–∏–ª–∏ –ª–∏–¥–µ—Ä—Å–∫–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞',
    '–ü—Ä–∏–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä –≤—Ä–µ–º–µ–Ω–∏, –∫–æ–≥–¥–∞ –≤–∞–º –Ω—É–∂–Ω–æ –±—ã–ª–æ —Å–ø—Ä–∞–≤–∏—Ç—å—Å—è —Å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º–∏',
    '–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –ø—Ä–æ–µ–∫—Ç–µ, –∫–æ—Ç–æ—Ä—ã–º –≤—ã –æ—Å–æ–±–µ–Ω–Ω–æ –≥–æ—Ä–¥–∏—Ç–µ—Å—å'
  ];

  const handleAnswerChange = (step, value) => {
    setUserAnswers(prev => ({
      ...prev,
      [step]: value
    }));
  };

  const getStepKey = (index) => {
    const keys = ['situation', 'task', 'action', 'result'];
    return keys[index];
  };

  return (
    <div className="max-w-6xl mx-auto p-6 bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
      {/* Header */}
      <div className="text-center mb-8">
        <h1 className="text-4xl font-bold text-gray-800 mb-2">STAR-Methode</h1>
        <h2 className="text-2xl text-gray-600 mb-4">Strukturierte Antworten in Vorstellungsgespr√§chen</h2>
        <p className="text-lg text-gray-500 italic">–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è—Ö</p>
        
        <div className="flex justify-center items-center mt-6 bg-white rounded-lg p-4 shadow-lg">
          {starSteps.map((step, index) => {
            const IconComponent = step.icon;
            return (
              <div key={index} className="flex items-center">
                <div 
                  className={`w-16 h-16 rounded-full ${step.color} text-white flex items-center justify-center cursor-pointer transition-transform hover:scale-110 ${activeStep === index ? 'scale-110 shadow-lg' : ''}`}
                  onClick={() => setActiveStep(index)}
                >
                  <div className="text-center">
                    <div className="text-2xl font-bold">{step.letter}</div>
                  </div>
                </div>
                {index < starSteps.length - 1 && (
                  <ArrowRight className="mx-4 text-gray-400" size={24} />
                )}
              </div>
            );
          })}
        </div>
      </div>

      {/* Main Content */}
      <div className="grid lg:grid-cols-2 gap-8">
        {/* Left Column - STAR Steps */}
        <div className="space-y-6">
          {starSteps.map((step, index) => {
            const IconComponent = step.icon;
            const isActive = activeStep === index;
            
            return (
              <div 
                key={index}
                className={`bg-white rounded-lg p-6 shadow-lg transition-all duration-300 cursor-pointer ${
                  isActive ? 'ring-4 ring-blue-300 transform scale-105' : 'hover:shadow-xl'
                }`}
                onClick={() => setActiveStep(index)}
              >
                <div className="flex items-start space-x-4">
                  <div className={`w-12 h-12 rounded-lg ${step.color} text-white flex items-center justify-center`}>
                    <IconComponent size={24} />
                  </div>
                  <div className="flex-1">
                    <h3 className="text-xl font-bold text-gray-800 mb-1">
                      {step.letter} - {step.title}
                    </h3>
                    <p className="text-sm text-gray-500 mb-2">{step.titleRu}</p>
                    <p className="text-gray-600 mb-3">{step.description}</p>
                    <p className="text-sm text-gray-500 italic mb-4">{step.descriptionRu}</p>
                    
                    {isActive && (
                      <div className="space-y-4">
                        <div>
                          <h4 className="font-semibold text-gray-700 mb-2">Leitfragen / –ù–∞–ø—Ä–∞–≤–ª—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã:</h4>
                          <ul className="space-y-1">
                            {step.questions.map((question, qIndex) => (
                              <li key={qIndex} className="text-sm text-gray-600">
                                <span className="font-medium">‚Ä¢ {question}</span>
                                <br />
                                <span className="italic text-gray-500 ml-2">{step.questionsRu[qIndex]}</span>
                              </li>
                            ))}
                          </ul>
                        </div>
                        
                        <div>
                          <h4 className="font-semibold text-gray-700 mb-2">Beispiel / –ü—Ä–∏–º–µ—Ä:</h4>
                          <div className="bg-gray-50 p-3 rounded border-l-4 border-blue-400">
                            <p className="text-sm text-gray-700">{step.example}</p>
                            <p className="text-sm text-gray-500 italic mt-1">{step.exampleRu}</p>
                          </div>
                        </div>
                      </div>
                    )}
                  </div>
                </div>
              </div>
            );
          })}
        </div>

        {/* Right Column - Practice Area */}
        <div className="space-y-6">
          {/* Practice Section */}
          <div className="bg-white rounded-lg p-6 shadow-lg">
            <h3 className="text-xl font-bold text-gray-800 mb-4 flex items-center">
              <Lightbulb className="mr-2 text-yellow-500" />
              √úbungsbereich / –û–±–ª–∞—Å—Ç—å –ø—Ä–∞–∫—Ç–∏–∫–∏
            </h3>
            
            <div className="space-y-4">
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">
                  {starSteps[activeStep].letter} - {starSteps[activeStep].title} / {starSteps[activeStep].titleRu}
                </label>
                <textarea
                  className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  rows="4"
                  placeholder={`Schreiben Sie hier Ihre Antwort f√ºr ${starSteps[activeStep].title}... / –ù–∞–ø–∏—à–∏—Ç–µ –∑–¥–µ—Å—å –≤–∞—à –æ—Ç–≤–µ—Ç –¥–ª—è ${starSteps[activeStep].titleRu}...`}
                  value={userAnswers[getStepKey(activeStep)]}
                  onChange={(e) => handleAnswerChange(getStepKey(activeStep), e.target.value)}
                />
              </div>
              
              <div className="flex justify-between">
                <button
                  onClick={() => setActiveStep(Math.max(0, activeStep - 1))}
                  disabled={activeStep === 0}
                  className="px-4 py-2 bg-gray-300 text-gray-700 rounded-lg disabled:opacity-50 hover:bg-gray-400 transition-colors"
                >
                  ‚Üê Zur√ºck / –ù–∞–∑–∞–¥
                </button>
                <button
                  onClick={() => setActiveStep(Math.min(starSteps.length - 1, activeStep + 1))}
                  disabled={activeStep === starSteps.length - 1}
                  className="px-4 py-2 bg-blue-500 text-white rounded-lg disabled:opacity-50 hover:bg-blue-600 transition-colors"
                >
                  Weiter / –î–∞–ª–µ–µ ‚Üí
                </button>
              </div>
            </div>
          </div>

          {/* Common Questions */}
          <div className="bg-white rounded-lg p-6 shadow-lg">
            <h3 className="text-xl font-bold text-gray-800 mb-4">
              H√§ufige Fragen / –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã
            </h3>
            <div className="space-y-3">
              {commonQuestions.map((question, index) => (
                <div key={index} className="p-3 bg-gray-50 rounded-lg">
                  <p className="text-sm font-medium text-gray-700">{question}</p>
                  <p className="text-sm text-gray-500 italic">{commonQuestionsRu[index]}</p>
                </div>
              ))}
            </div>
          </div>

          {/* Progress Indicator */}
          <div className="bg-white rounded-lg p-6 shadow-lg">
            <h3 className="text-lg font-bold text-gray-800 mb-4">
              Fortschritt / –ü—Ä–æ–≥—Ä–µ—Å—Å
            </h3>
            <div className="space-y-2">
              {starSteps.map((step, index) => (
                <div key={index} className="flex items-center space-x-3">
                  {userAnswers[getStepKey(index)] ? (
                    <CheckCircle className="text-green-500" size={20} />
                  ) : (
                    <Circle className="text-gray-300" size={20} />
                  )}
                  <span className={`text-sm ${userAnswers[getStepKey(index)] ? 'text-green-700 font-medium' : 'text-gray-500'}`}>
                    {step.letter} - {step.title} / {step.titleRu}
                  </span>
                </div>
              ))}
            </div>
          </div>
        </div>
      </div>

      {/* Tips Section */}
      <div className="mt-8 bg-white rounded-lg p-6 shadow-lg">
        <h3 className="text-xl font-bold text-gray-800 mb-4">
          üí° Tipps f√ºr erfolgreiche STAR-Antworten / –°–æ–≤–µ—Ç—ã –¥–ª—è —É—Å–ø–µ—à–Ω—ã—Ö STAR-–æ—Ç–≤–µ—Ç–æ–≤
        </h3>
        <div className="grid md:grid-cols-2 gap-6">
          <div>
            <h4 className="font-semibold text-gray-700 mb-2">Deutsch:</h4>
            <ul className="space-y-2 text-sm text-gray-600">
              <li>‚Ä¢ Seien Sie spezifisch und konkret</li>
              <li>‚Ä¢ Verwenden Sie messbare Ergebnisse</li>
              <li>‚Ä¢ Halten Sie jede Antwort unter 2 Minuten</li>
              <li>‚Ä¢ Bereiten Sie 3-5 STAR-Geschichten vor</li>
              <li>‚Ä¢ √úben Sie laut vor einem Spiegel</li>
              <li>‚Ä¢ Fokussieren Sie sich auf Ihre Rolle</li>
            </ul>
          </div>
          <div>
            <h4 className="font-semibold text-gray-700 mb-2">–†—É—Å—Å–∫–∏–π:</h4>
            <ul className="space-y-2 text-sm text-gray-600">
              <li>‚Ä¢ –ë—É–¥—å—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –∏ —Ç–æ—á–Ω—ã–º–∏</li>
              <li>‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–∑–º–µ—Ä–∏–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</li>
              <li>‚Ä¢ –î–µ—Ä–∂–∏—Ç–µ –∫–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö 2 –º–∏–Ω—É—Ç</li>
              <li>‚Ä¢ –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ 3-5 STAR-–∏—Å—Ç–æ—Ä–∏–π</li>
              <li>‚Ä¢ –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å –≤—Å–ª—É—Ö –ø–µ—Ä–µ–¥ –∑–µ—Ä–∫–∞–ª–æ–º</li>
              <li>‚Ä¢ –°–æ—Å—Ä–µ–¥–æ—Ç–æ—á—å—Ç–µ—Å—å –Ω–∞ —Å–≤–æ–µ–π —Ä–æ–ª–∏</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  );
};

export default StarMethodGuide;
